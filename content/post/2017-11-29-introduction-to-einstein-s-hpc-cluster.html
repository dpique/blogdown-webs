---
title: How to access and work on Einstein's HPC cluster
author: Daniel Piqué
date: '2017-11-29'
slug: introduction-to-einstein-s-hpc-cluster
categories: []
tags: []
output:
  html_document:
    highlight: pygments
---



<ol style="list-style-type: decimal">
<li><p>Request access to the cluster. This can be done by emailing <a href="https://www.einstein.yu.edu/search/?q=brent%20solly&amp;searchType=directories">Brent Solly</a> or <a href="https://www.einstein.yu.edu/search/?q=Shailesh+Shenoy&amp;searchButton.x=0&amp;searchButton.y=0&amp;searchType=directories">Shailesh Shenoy</a> and asking to be added as a user. An account and userid will be created for you. You can also submit a ticket through the <a href="https://itsupport.einstein.yu.edu/">IT support portal</a> to request account access.</p></li>
<li><p>Open up a terminal (Mac/Linux) or command prompt (Windows)</p></li>
<li><p>In the prompt, type <code>ssh user_id@ip_address</code>, where <code>user_id</code> is your montefiore ID/username, and <code>ip_address</code> is the IP address shared with you by the IT team (should start with the number 10 and be in the following format: 10.xx.x.xx)</p></li>
<li><p>Type the password associated with your montefiore id.</p></li>
<li><p>You now should be on the login node. The command prompt may have your montefiore id followed by an @ symbol, followed by the word “loginnode”. This is how you know you’re on the login node.</p></li>
</ol>
<ul>
<li>Note: The login node is where all users are directed after they log in. Computations should not be performed on this node, however. This is because there is a limited amount of memory on this node, and computations performed on this node will affect the ability of other users to log in and navigate through the cluster.</li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li><p>Next, we should log in to a compute node. This is where all of the computations will be performed. To do this, type <code>qrsh -l h_vmem=20G</code>. You can adjust <code>20G</code> to the amount of memory that you want (for reference, many modern laptop computers have 8 or 16 GB of memory). You can also use <code>qsub</code> to submit a job to the cluster. <code>qsub</code> and <code>qrsh</code> are the 2 ways to interact with the cluster’s compute nodes, with the latter being an ‘interactive’ approach.</p></li>
<li><p>Now, we can load R. To do this, we first have to load the module. Type <code>module load R</code> and then tab, which will display the available versions of R. To see all available modules type <code>module avail</code>.</p></li>
<li><p>You’ll need to upload your data to the cluster to perform computations. To do so, use the <a href="https://www.garron.me/en/articles/scp.html"><code>scp</code> command</a>. The following command will transfer <code>file1.txt</code> onto the home directory on the cluster: <code>scp file1.txt user_id@ip_address:~/</code> There are also other file transfer methods, and you can even drag and drop once you have the network drive mapped on your computer (see below).</p></li>
<li><p>You can also mount the cluster to your computer, so that you can use the Finder or Explorer windows to navigate through the cluster’s file system. <a href="http://osxdaily.com/2010/09/20/map-a-network-drive-on-a-mac/">Here</a> are instructions for doing so on a mac, and <a href="https://www.laptopmag.com/articles/map-network-drive-windows-10">here</a> are the instructions for doing so on a PC. If you have R or RStudio on your computer, you can set the working directory to the cluster and read files directly from the cluster.</p></li>
</ol>
<div id="additional-resources" class="section level3">
<h3>Additional Resources</h3>
<ul>
<li><p>There are many types of HPC clusters. Einstein’s cluster runs on the Sun Grid Engine (SGE), so even though there is no Einstein-specific documentation on how to use the cluster, we can reference the <a href="http://gridscheduler.sourceforge.net/htmlman/manuals.html">documentation</a> and publicly available <a href="http://star.mit.edu/cluster/docs/0.93.3/guides/sge.html">tutorials</a> from other institutions that also use the SGE to learn about how to use our cluster.</p></li>
<li><p>Email <a href="mailto:support@penguincomputing.com">support@penguincomputing.com</a> if you need to install an R package. If the cluster is not working, submit at ticket with through the <a href="https://itsupport.einstein.yu.edu/">IT support portal</a> (note: you have to be on Einstein’s campus or using VPN to access this site)</p></li>
</ul>
</div>
